<!DOCTYPE html>
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<html>
  <!--<![endif]-->
  <head>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' name='viewport'>
    <meta content='IE=edge' http-equiv='X-UA-Compatible'>
    <title>Swap Crops</title>
    <script>
      JST = new Object();
    </script>
    <script>
      var id = "account";
      JST[id] = "<div class='row-fluid'>\n  <div class='span12 center-text account'>\n    <div class='span6 user-info'>\n      <h3>Your User Info</h3>\n      <h6>(Use your Facebook account to change this info)</h6>\n      <dl>\n        <dt>Name:</dt>\n        <dd>{{user.name}}</dd>\n        <dt>Email Address:</dt>\n        <dd>{{user.email}}</dd>\n        <dt>Location:</dt>\n        <dd>{{user.location.name}}</dd>\n        <dt>Account Type</dt>\n        <dd>Free User (<a href=\"#\">Upgrade</a>)</dd>\n      </dl>\n    </div>\n    <div class='span6 feedback'>\n      <h3>Your Feedback</h3>\n      <p>\n        <strong>Pete Munsen</strong>\n        Great produce!\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n      </p>\n      <p>\n        <strong>Jon DeCarlo</strong>\n        Pear tomatoes were fresh.\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n      </p>\n      <p>\n        <strong>Alice Cooper</strong>\n        Spinach was good, but wilted a little\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n      </p>\n      <p>\n        <strong>Alex Baldwin</strong>\n        I think he made up \"pear tomato\"\n        <div class='icon-star'></div>\n      </p>\n      <p>\n        <strong>Sue Montgomery</strong>\n        Super nice. A+++++\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n        <div class='icon-star'></div>\n      </p>\n      <p class='more'>\n        <i>\n          <a href='#'>\n            see more\n          </a>\n        </i>\n      </p>\n    </div>\n  </div>\n</div>\n";
    </script>
    <script>
      var id = "home";
      JST[id] = "<div class='home'>\n  <div class='row-fluid'>\n    <div class='span1'></div>\n    <div class='span5 sharing-image image-container'>\n      <img src='images/home/sharing.jpg'>\n    </div>\n    <div class='span5 sharing-text'>\n      <h1>What are your neighbors growing?</h1>\n      <img src='images/logo.png'>\n    </div>\n    <div class='span1'></div>\n  </div>\n  <div class='row-fluid'>\n    <div class='span12'>\n      <h3>\n        CropSwap is the\n        <strong>\n          best\n        </strong>\n        way to share what you grow, and take part in the havest of your community.\n      </h3>\n    </div>\n  </div>\n</div>\n";
    </script>
    <script>
      var id = "login";
      JST[id] = "<h2>\n  You must\n  <a class='login-logout-link' href='#'>\n    log in\n  </a>\n  to access that page.\n</h2>\n";
    </script>
    <script>
      var id = "offer detail";
      JST[id] = "offer detail\n";
    </script>
    <script>
      var id = "offer";
      JST[id] = "<div class='row-fluid'>\n  <div class='span12 center-text add-offer'>\n    <h6></h6>\n    <a class='add-crop-or-offer-link' href='#'>\n      <i class='icon-plus-sign'></i>\n      Add Crop or Offer\n    </a>\n  </div>\n  <div class='span12 center-text offer'>\n    <div class='span6 have'>\n      <h3>You Have</h3>\n      {{#each sell_offers}}\n      <p>\n        {{this.Amount}} {{this.UnitType}} {{this.CropName}}.\n        <i>{{#if this.Barter}}Barter{{/if}} {{#if this.Cash}}Cash{{/if}}</i>\n      </p>\n      {{/each}}\n    </div>\n    <div class='span6 want'>\n      <h3>You Want</h3>\n      {{#each buy_offers}}\n      <p>{{this.Amount}} {{this.UnitType}} {{this.CropName}}.</p>\n      {{/each}}\n    </div>\n  </div>\n</div>\n";
    </script>
    <script>
      var id = "offer_detail";
      JST[id] = "<div class='offer-detail'>\n  <a class='close-link' href='#'>\n    <i class='icon-remove-sign'></i>\n  </a>\n  <div class='inner-container'>\n    <div class='row-fluid'>\n      <label class='radio'>\n        <input checked='checked' class='offer-type' id='offerType1' name='offerType' type='radio' value='have'>\n        I Have\n      </label>\n      <label class='radio'>\n        <input class='offer-type' id='offerType2' name='offerType' type='radio' value='want'>\n        I Want\n      </label>\n    </div>\n    <div class='row-fluid'>\n      <select class='crop-type'>\n        <option>-- Select --</option>\n        <option value='3'>Tomatoes</option>\n        <option value='4'>Apples</option>\n        <option value='5'>Grapes</option>\n        <option value='6'>Lettuce</option>\n        <option value='7'>Carrots</option>\n        <option value='8'>Pears</option>\n        <option value='9'>Eggs</option>\n        <option value='10'>Honey</option>\n        <option value='11'>Bell Peppers</option>\n        <option value='12'>Jalapeno Peppers</option>\n        <option value='13'>Spinach</option>\n      </select>\n      <select class='crop-sub-type' style='display:none'></select>\n    </div>\n    <div class='row-fluid'>\n      <input class='quantity' name='quantity' placeholder='quantity' size='5' type='text'>\n      <select class='quantity-unit'>\n        <option>-- Select --</option>\n        <option value='1'>Each</option>\n        <option value='2'>Bushels</option>\n        <option value='3'>Gallons</option>\n        <option value='4'>Plants</option>\n        <option value='5'>Pounds</option>\n        <option value='6'>Dollars</option>\n      </select>\n    </div>\n    <div class='row-fluid accept-type'>\n      <h3 class='accept-text'>I will accept</h3>\n      <div class='accept-types'>\n        <label class='checkbox'>\n          <input checked='checked' class='accept-type accept-cash' id='acceptType1' name='acceptType' type='checkbox' value='cash'>\n          Cash\n        </label>\n        <label class='checkbox'>\n          <input class='accept-type accept-barter' id='acceptType2' name='acceptType' type='checkbox' value='barter'>\n          Trade\n        </label>\n      </div>\n    </div>\n    <div class='row-fluid buttons'>\n      <a class='btn save-btn'>Save</a>\n      <div class='clear-button'>\n        <a class='btn clear-btn'>Clear</a>\n      </div>\n    </div>\n  </div>\n</div>\n";
    </script>
    <script>
      var id = "search";
      JST[id] = "<div class='row'>\n  <div class='span12'>\n    <form id='search-form'>\n      <input autocomplete='off' id='terms' name='terms' type='text' value=''>\n      <button class='add-on' type='submit'>\n        <i class='icon-search'></i>\n      </button>\n      <button class='add-on clear-results' type='button'>\n        <i class='icon-remove-circle'></i>\n      </button>\n    </form>\n  </div>\n</div>\n<div class='row'>\n  <div class='span12 search-results'></div>\n</div>\n";
    </script>
    <script src='./javascripts/jquery-1.9.1.js' type='text/javascript'></script>
    <script src='./javascripts/underscore-min.js' type='text/javascript'></script>
    <script src='./javascripts/backbone.js' type='text/javascript'></script>
    <script src='./javascripts/handlebars.js' type='text/javascript'></script>
    <script src='./javascripts/application.js' type='text/javascript'></script>
    <link href='./stylesheets/bootstrap.min.css' media='all' rel='stylesheet' type='text/css'>
    <link href='./stylesheets/bootstrap-responsive.css' media='all' rel='stylesheet' type='text/css'>
    <link href='./stylesheets/application.css' media='all' rel='stylesheet' type='text/css'>
    <link href='./stylesheets/bootstrap-responsive.css' media='all' rel='stylesheet' type='text/css'>
    <link href='./stylesheets/bootstrap.min.css' media='all' rel='stylesheet' type='text/css'>
    <link href='./stylesheets/custom.css' media='all' rel='stylesheet' type='text/css'>
    <link href='./stylesheets/jquery.reject.css' media='all' rel='stylesheet' type='text/css'>
    <link href='./stylesheets/jquery.smartbanner.css' media='all' rel='stylesheet' type='text/css'>
    <script src='./javascripts/bootstrap.js' type='text/javascript'></script>
    <script src='./javascripts/cropswap.js' type='text/javascript'></script>
    <script src='./javascripts/helpers/application_helper.js' type='text/javascript'></script>
    <script src='./javascripts/helpers/enquire.js' type='text/javascript'></script>
    <script src='./javascripts/helpers/media_queries.js' type='text/javascript'></script>
    <script src='./javascripts/jquery.reject.js' type='text/javascript'></script>
    <script src='./javascripts/lib/bootstrap.js' type='text/javascript'></script>
    <script src='./javascripts/lib/custom.js' type='text/javascript'></script>
    <script src='./javascripts/lib/form_attributes.js' type='text/javascript'></script>
    <script src='./javascripts/lib/jquery.cookie.js' type='text/javascript'></script>
    <script src='./javascripts/lib/jquery.scrollTo.js' type='text/javascript'></script>
    <script src='./javascripts/lib/jquery.smartbanner.js' type='text/javascript'></script>
    <script src='./javascripts/lib/jquery.xpath2.js' type='text/javascript'></script>
    <script src='./javascripts/lib/loader.js' type='text/javascript'></script>
    <script src='./javascripts/lib/mbox.js' type='text/javascript'></script>
    <script src='./javascripts/lib/modernizr.js' type='text/javascript'></script>
    <script src='./javascripts/models/authenticate.js' type='text/javascript'></script>
    <script src='./javascripts/models/crop.js' type='text/javascript'></script>
    <script src='./javascripts/models/geocode.js' type='text/javascript'></script>
    <script src='./javascripts/models/search.js' type='text/javascript'></script>
    <script src='./javascripts/routers/router.js' type='text/javascript'></script>
    <script src='./javascripts/views/account.js' type='text/javascript'></script>
    <script src='./javascripts/views/home.js' type='text/javascript'></script>
    <script src='./javascripts/views/login.js' type='text/javascript'></script>
    <script src='./javascripts/views/navigation.js' type='text/javascript'></script>
    <script src='./javascripts/views/offer.js' type='text/javascript'></script>
    <script src='./javascripts/views/offer_detail.js' type='text/javascript'></script>
    <script src='./javascripts/views/search.js' type='text/javascript'></script>
    <link href='./stylesheets/custom.css' media='all' rel='stylesheet' type='text/css'>
  </head>
  <body class='container-fluid'>
    <div id="fb-root"></div>
    <script>
      window.fbAsyncInit = function() {
        // init the FB JS SDK
        FB.init({
          appId      : '518784234837649',                     // App ID from the app dashboard
          channelUrl : '//swapcrops.com/channel.html',        // Channel file for x-domain comms
          status     : true,                                 // Check Facebook Login status
          xfbml      : true,                                 // Look for social plugins on the page
          cookie     : true
        });
    
        // Additional initialization code such as adding Event Listeners goes here
        FB.Event.subscribe('auth.authResponseChange', function(response) {
          // Here we specify what we do with the response anytime this event occurs.
          if (response.status === 'connected') {
            // The response object is returned with a status field that lets the app know the current
            // login status of the person. In this case, we're handling the situation where they
            // have logged in to the app.
            loadFBUser();
          } else if (response.status === 'not_authorized') {
            // In this case, the person is logged into Facebook, but not into the app, so we call
            // FB.login() to prompt them to do so.
            // In real-life usage, you wouldn't want to immediately prompt someone to login
            // like this, for two reasons:
            // (1) JavaScript created popup windows are blocked by most browsers unless they
            // result from direct interaction from people using the app (such as a mouse click)
            // (2) it is a bad experience to be continually prompted to login upon page load.
            FB.login();
          } else {
            // In this case, the person is not logged into Facebook, so we call the login()
            // function to prompt them to do so. Note that at this stage there is no indication
            // of whether they are logged into the app. If they aren't then they'll see the Login
            // dialog right after they log in to Facebook.
            // The same caveats as above apply to the FB.login() call here.
            FB.login();
          }
        });
    
      };
    
      // Load the SDK asynchronously
      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/all.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));
    
      // Here we run a very simple test of the Graph API after login is successful.
      // This testAPI() function is only called in those cases.
      function loadFBUser() {
        console.log('Welcome!  Fetching your information.... ');
        FB.api('/me', function(response) {
          console.log('Good to see you, ' + response.name + '.');
          CropSwap.logged_in_user = response
          CropSwap.update_user_lat_long()
          CropSwap.render_nav()
          CropSwap.get_user_id()
          CropSwap.direct_user();
        });
      }
    </script>
    <div class='row-fluid'>
      <div class='span12 header'>
        <div class='navigation'></div>
      </div>
    </div>
    <div class='row-fluid'>
      <div class='span12 content'>
        <div class='wrapper'>
          Crop them' Swaps!
        </div>
      </div>
    </div>
    <div class='row-fluid'>
      <div class='span12 footer'>
        Some legal boilerplate here
      </div>
    </div>
    <div class='offer-detail-container'></div>
  </body>
</html>
